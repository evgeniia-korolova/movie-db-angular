<article class="movie-details">
  @if (movie) {
  <section class="hero">
    <div class="hero__poster">
      <img [src]="imageUrl + movie.poster_path" [alt]="movie.id" />
    </div>

    <div class="hero__info">
      @if (isMovieDetails(movie)) {
      {{ movie.title }}
      } @else if (isTVDetails(movie)) {
      {{ movie.name }}
      }

      <p class="movie-tagline">{{ movie.tagline }}</p>

      <div class="hero__actions">
        <app-rating-badge [voteAverage]="movie.vote_average" />
        <p>User Score</p>

        <div
          class="favorite__wrapper"
          (mouseenter)="showTooltip = true"
          (mouseleave)="showTooltip = false" 
          [class.inactive]="!authService.isAuthenticated()"        
        >
          <app-favorite-icon
            [filled]="isFavorite()"
            (click)="toggleFavorite()"
            [class.inactive-icon]="!authService.isAuthenticated()" 

          ></app-favorite-icon>

          @if(!authService.isAuthenticated() && showTooltip) {
            <div class="custom-tooltip">Please log in to add to Favorites</div>
          }
        </div>

      </div>

      <p class="hero__overview">{{ movie.overview }}</p>

      <div class="movie-actions">
        <button class="btn">Watch Trailer</button>
      </div>
    </div>
  </section>

  <section class="credits">
    <!-- Основной состав -->
  </section>

  <section class="media">
    <!-- Галерея и видео -->
  </section>

  <section class="recommendations">
    <!-- Похожие фильмы -->
  </section>
  }
</article>
