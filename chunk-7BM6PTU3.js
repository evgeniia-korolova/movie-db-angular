import{a as d}from"./chunk-SXUBGAWM.js";import{g as P,i as U}from"./chunk-5GHR62VA.js";import{Ca as D,Ha as l,L as _,Na as v,Oa as S,Q as k,Qa as c,R as f,Ra as E,Sa as F,Ta as K,Ua as r,Va as o,Wa as C,X as y,Y as I,Za as j,ab as T,bb as p,cb as M,eb as a,fb as O,gb as m,p as w,ra as u,ta as i,ya as h}from"./chunk-WMH4GK37.js";var x=class t{constructor(n){this.http=n}baseUrl=d.BASE_URL;apiKey=d.API_KEY;getKnownFor(n){let e=`${this.baseUrl}/person/${n}/combined_credits?api_key=${this.apiKey}`;return this.http.get(e).pipe(w(s=>s.cast.filter(g=>g.poster_path).sort((g,A)=>A.popularity-g.popularity).slice(0,10)))}static \u0275fac=function(e){return new(e||t)(k(P))};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var b=class t{baseUrl=d.BASE_URL;apiKey=d.API_KEY;http=f(P);constructor(){}getPersonDetails(n){let e=`${this.baseUrl}/person/${n}?api_key=${this.apiKey}&language=en-US`;return this.http.get(e)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};function R(t,n){if(t&1&&C(0,"img",4),t&2){let e=p(2);v("src","https://image.tmdb.org/t/p/w500"+e.person.profile_path,u)("alt",e.person.name)}}function H(t,n){if(t&1&&C(0,"img",5),t&2){let e=p(2);M("alt",e.person.name)}}function G(t,n){if(t&1&&l(0,R,1,2,"img",4)(1,H,1,1,"img",5),t&2){let e=p();c(e.person.profile_path?0:1)}}function N(t,n){if(t&1&&(r(0,"h4"),a(1,"Personal Info"),o(),r(2,"p")(3,"strong"),a(4,"Known For:"),o(),a(5),o(),r(6,"p")(7,"strong"),a(8,"Gender:"),o(),a(9),o(),r(10,"p")(11,"strong"),a(12,"Birthday:"),o(),a(13),o(),r(14,"p")(15,"strong"),a(16,"Place of Birth:"),o(),a(17),o()),t&2){let e=p();i(5),m(" ",e.person.known_for_department,""),i(4),m(" ",e.getGender(e.person.gender),""),i(4),m(" ",e.person.birthday||"\u2014",""),i(4),m(" ",e.person.place_of_birth||"\u2014","")}}function V(t,n){if(t&1){let e=j();r(0,"button",8),T("click",function(){y(e);let g=p(2);return I(g.isBioExpanded=!0)}),a(1,"Read More"),o()}}function L(t,n){if(t&1&&(r(0,"h1"),a(1),o(),r(2,"div",6),a(3),o(),l(4,V,2,0,"button",7)),t&2){let e=p();i(),O(e.person.name),i(),S("expanded",e.isBioExpanded),i(),m(" ",e.person.biography," "),i(),c(e.isBioExpanded?-1:4)}}function Y(t,n){if(t&1&&(r(0,"div",11),C(1,"img",12),r(2,"p"),a(3),o()()),t&2){let e=n.$implicit,s=p(2);i(),M("alt",e.title||e.name),v("src",s.imageUrl+e.poster_path,u),i(2),O(e.title||e.name)}}function q(t,n){if(t&1&&(r(0,"div",3)(1,"h3"),a(2,"Known For"),o(),r(3,"div",9)(4,"div",10),F(5,Y,4,3,"div",11,E),o()()()),t&2){let e=p();i(5),K(e.knownFor)}}var z=class t{constructor(n,e){this.route=n;this.personDetailsService=e}person;isBioExpanded=!1;imageUrl="https://image.tmdb.org/t/p/w500";fallback="user-profile-img.svg";knownFor=[];knownForService=f(x);getGender(n){switch(n){case 1:return"Female";case 2:return"Male";default:return"\u2014"}}ngOnInit(){let n=Number(this.route.snapshot.paramMap.get("id"));this.personDetailsService.getPersonDetails(n).subscribe(e=>{console.log(e),this.person=e}),this.knownForService.getKnownFor(n).subscribe(e=>{this.knownFor=e})}static \u0275fac=function(e){return new(e||t)(h(U),h(b))};static \u0275cmp=D({type:t,selectors:[["app-person-details"]],decls:8,vars:4,consts:[[1,"person-page"],[1,"personal-info"],[1,"person-content"],[1,"known-for"],[1,"person-photo",3,"src","alt"],["src","user-profile-img.svg",3,"alt"],[1,"biography"],[1,"read-more"],[1,"read-more",3,"click"],[1,"slider"],[1,"slider-track"],[1,"known-for-card"],[3,"src","alt"]],template:function(e,s){e&1&&(r(0,"section",0)(1,"aside"),l(2,G,2,1),r(3,"div",1),l(4,N,18,4),o()(),r(5,"div",2),l(6,L,5,5)(7,q,7,0,"div",3),o()()),e&2&&(i(2),c(s.person?2:-1),i(2),c(s.person?4:-1),i(2),c(s.person?6:-1),i(),c(s.knownFor.length>0?7:-1))},styles:['.person-page[_ngcontent-%COMP%]{display:flex;gap:2rem;padding:2rem;max-width:100%;box-sizing:border-box;justify-content:space-between;width:100%}.person-page[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{width:25%;flex-shrink:0}.person-page[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:12px;object-fit:cover}.person-page[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .personal-info[_ngcontent-%COMP%]{margin-top:1.5rem;background:#f5f5f5;padding:1rem;border-radius:8px}.person-page[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .personal-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#333}.person-page[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .personal-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;margin:.25rem 0}.person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]{flex-grow:1;width:calc(75% - 2rem);display:flex;flex-direction:column}.person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]   .biography[_ngcontent-%COMP%]{font-size:1rem;color:#444;line-height:1.6;max-height:12rem;overflow:hidden;position:relative}.person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]   .biography.expanded[_ngcontent-%COMP%]{max-height:none}.person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]   .biography[_ngcontent-%COMP%]:not(.expanded):after{content:"";position:absolute;bottom:0;left:0;width:100%;height:3rem;background:linear-gradient(to bottom,transparent,#fff)}.person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{margin-top:.5rem;background:none;border:none;color:#01b4e4;font-weight:700;cursor:pointer}.person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]   .known-for[_ngcontent-%COMP%]{margin-top:2rem}.person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]   .known-for[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.slider[_ngcontent-%COMP%]{width:100%;overflow-x:auto;white-space:nowrap;position:relative;scrollbar-width:thin;scrollbar-color:#cac8c8 #f1f1f1}.slider[_ngcontent-%COMP%]::-webkit-scrollbar{height:2.5rem}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e9e7e7;border-radius:5px}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.slider-track[_ngcontent-%COMP%]{display:flex;gap:1rem;padding-bottom:.5rem}.slider-track[_ngcontent-%COMP%]   .known-for-card[_ngcontent-%COMP%]{width:130px;flex:0 0 auto}.slider-track[_ngcontent-%COMP%]   .known-for-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px;object-fit:cover;aspect-ratio:2/3}.slider-track[_ngcontent-%COMP%]   .known-for-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:.5rem;font-size:.85rem;white-space:wrap}@media (max-width: 620px){.person-page[_ngcontent-%COMP%]{flex-direction:column}.person-page[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%], .person-page[_ngcontent-%COMP%]   .person-content[_ngcontent-%COMP%]{width:100%}.slider[_ngcontent-%COMP%]{max-width:100%}}']})};export{z as PersonDetailsComponent};
