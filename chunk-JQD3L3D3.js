import{k as i}from"./chunk-E7NG4QQB.js";var l=class n{currentUserKey="currentUser";returnUrl="/movie";constructor(){}register(r,e,o){let t=this.getAllUsers();if(t.some(u=>u.email===e))return!1;let s={name:r,email:e,password:o};return t.push(s),localStorage.setItem("users",JSON.stringify(t)),localStorage.setItem(this.currentUserKey,JSON.stringify(s)),!0}login(r,e){let t=this.getAllUsers().find(s=>s.email===r&&s.password===e);return t?(localStorage.setItem(this.currentUserKey,JSON.stringify(t)),!0):!1}getCurrentUser(){let r=localStorage.getItem(this.currentUserKey);return r?JSON.parse(r):null}isAuthenticated(){return!!localStorage.getItem(this.currentUserKey)}getAllUsers(){return JSON.parse(localStorage.getItem("users")||"[]")}logout(){localStorage.removeItem(this.currentUserKey),this.resetReturnUrl()}setReturnUrl(r){this.returnUrl=r}getReturnUrl(){return this.returnUrl}resetReturnUrl(){this.returnUrl="/movie"}static \u0275fac=function(e){return new(e||n)};static \u0275prov=i({token:n,factory:n.\u0275fac,providedIn:"root"})};export{l as a};
