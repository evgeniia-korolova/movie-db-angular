import{a as T}from"./chunk-WS4SR5LR.js";import{a as h}from"./chunk-SXUBGAWM.js";import{a as S}from"./chunk-FHYFLR3N.js";import"./chunk-UIORZEUM.js";import{a as P}from"./chunk-IH7GETN6.js";import{$ as f,B as v,C as x,G as d,J as l,M as _,Q as o,R as r,S as s,X as p,_ as a,aa as g,k as I,n as D,o as M,ta as y,va as O,y as b,z as n}from"./chunk-HGSF4TYC.js";function C(t){return"title"in t}function u(t){return"name"in t}var c=class t{constructor(i){this.http=i}baseUrl=h.BASE_URL;apiKey=h.API_KEY;getMovieDetails(i){return this.http.get(`${this.baseUrl}/movie/${i}?api_key=${this.apiKey}&language=en-US`)}getTVDetails(i){let e=`${this.baseUrl}/tv/${i}?api_key=${this.apiKey}&language=en-US`;return this.http.get(e)}static \u0275fac=function(e){return new(e||t)(D(y))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};function E(t,i){if(t&1&&a(0),t&2){let e=p(2);g(" ",e.movie.title," ")}}function A(t,i){if(t&1&&a(0),t&2){let e=p(2);g(" ",e.movie.name," ")}}function $(t,i){if(t&1&&(o(0,"section",1)(1,"div",2),s(2,"img",3),r(),o(3,"div",4),d(4,E,1,1)(5,A,1,1),o(6,"p",5),a(7),r(),o(8,"div",6),s(9,"app-rating-badge",7),o(10,"p"),a(11,"User Score"),r(),s(12,"app-favorite-toggle",8),r(),o(13,"p",9),a(14),r(),o(15,"div",10)(16,"button",11),a(17,"Watch Trailer"),r()()()(),s(18,"section",12)(19,"section",13)(20,"section",14)),t&2){let e=p();n(2),l("src",e.imageUrl+e.movie.poster_path,b)("alt",e.movie.id),n(2),_(e.isMovieDetails(e.movie)?4:e.isTVDetails(e.movie)?5:-1),n(3),f(e.movie.tagline),n(2),l("voteAverage",e.movie.vote_average),n(3),l("id",e.movieId)("media_type",e.mediaType)("title",e.title)("poster_path",e.movie.poster_path),n(2),f(e.movie.overview)}}var V=class t{constructor(i,e){this.route=i;this.movieDetailsService=e}movieId;mediaType;movie;title="";isMovieDetails=C;isTVDetails=u;showTooltip=!1;authService=M(P);imageUrl="https://image.tmdb.org/t/p/w500";ngOnInit(){this.route.paramMap.subscribe(i=>{let e=i.get("id"),m=i.get("type");e&&m&&(this.movieId=+e,this.mediaType=m,this.loadDetails())})}get favoriteItem(){return{id:this.movieId,media_type:this.mediaType,title:this.title,poster_path:this.movie?.poster_path}}loadDetails(){(this.mediaType==="movie"?this.movieDetailsService.getMovieDetails(this.movieId):this.movieDetailsService.getTVDetails(this.movieId)).subscribe(e=>{this.movie=e,"title"in e?this.title=e.title??"":"name"in e&&(this.title=e.name??"")})}get releaseDate(){return C(this.movie)?this.movie.release_date??"":u(this.movie)?this.movie.first_air_date??"":""}static \u0275fac=function(e){return new(e||t)(v(O),v(c))};static \u0275cmp=x({type:t,selectors:[["app-movie-details"]],decls:2,vars:1,consts:[[1,"movie-details"],[1,"hero"],[1,"hero__poster"],[3,"src","alt"],[1,"hero__info"],[1,"movie-tagline"],[1,"hero__actions"],[3,"voteAverage"],[3,"id","media_type","title","poster_path"],[1,"hero__overview"],[1,"movie-actions"],[1,"btn"],[1,"credits"],[1,"media"],[1,"recommendations"]],template:function(e,m){e&1&&(o(0,"article",0),d(1,$,21,10),r()),e&2&&(n(),_(m.movie?1:-1))},dependencies:[T,S],styles:[".movie-details[_ngcontent-%COMP%]{padding:2rem;background-color:#f5f5f5}.hero[_ngcontent-%COMP%]{display:flex;gap:2rem;max-width:1440px;margin:0 auto}.hero__poster[_ngcontent-%COMP%]{flex:0 0 300px}.hero__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px;object-fit:cover}.hero__actions[_ngcontent-%COMP%]{position:relative;display:flex;gap:1rem;align-items:center;margin-bottom:1rem}.hero__info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.hero__info[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem}.hero__info[_ngcontent-%COMP%]   .movie-tagline[_ngcontent-%COMP%]{font-style:italic;color:#777;margin-bottom:1rem}.hero__info[_ngcontent-%COMP%]   .hero__overview[_ngcontent-%COMP%]{margin:2rem 0;line-height:1.6}.hero__info[_ngcontent-%COMP%]   .movie-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.hero__info[_ngcontent-%COMP%]   .movie-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#07f;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background .3s ease}.hero__info[_ngcontent-%COMP%]   .movie-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#005ec9}"]})};export{V as MovieDetailsComponent};
