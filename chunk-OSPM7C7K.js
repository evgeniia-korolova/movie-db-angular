import{a as x,b as a,c as O,d as w,e as y,f as d,g as R,h as S,i as k,j as E}from"./chunk-C73F5IEZ.js";import{a as P}from"./chunk-IH7GETN6.js";import{$ as b,B as s,C as g,G as p,J as u,M as f,Q as t,R as e,S as l,W as h,X as C,_ as o,va as _,xa as M,ya as v,z as m}from"./chunk-HGSF4TYC.js";function I(c,r){if(c&1&&(t(0,"p",12),o(1),e()),c&2){let n=C();m(),b(n.errorMessage)}}var F=class c{constructor(r,n,i){this.auth=r;this.router=n;this.route=i}errorMessage="";registrationForm=new y({name:new d("",a.required),email:new d("",[a.required,a.email]),password:new d("",[a.required,a.minLength(6)])});ngOnInit(){let r=this.route.snapshot.queryParamMap.get("returnUrl");r&&this.auth.setReturnUrl(r)}onSubmit(){if(this.registrationForm.invalid){this.registrationForm.markAllAsTouched();return}let{name:r,email:n,password:i}=this.registrationForm.value;if(this.auth.register(r,n,i)){let N=this.auth.getReturnUrl();this.auth.resetReturnUrl(),this.router.navigateByUrl(N)}else console.log("error"),this.errorMessage="User with this email already exists."}static \u0275fac=function(n){return new(n||c)(s(P),s(M),s(_))};static \u0275cmp=g({type:c,selectors:[["app-registration"]],decls:23,vars:3,consts:[[1,"auth-container"],["novalidate","",3,"click","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","formControlName","name"],["for","email"],["type","email","id","email","name","email","formControlName","email"],["for","password"],["type","password","id","password","name","password","formControlName","password"],["type","submit",3,"disabled"],[1,"login-link"],["routerLink","/login"],[1,"error"]],template:function(n,i){n&1&&(t(0,"div",0)(1,"h2"),o(2,"Create an Account"),e(),t(3,"form",1),h("click",function(){return i.onSubmit()}),t(4,"div",2)(5,"label",3),o(6,"Name"),e(),l(7,"input",4),e(),t(8,"div",2)(9,"label",5),o(10,"Email"),e(),l(11,"input",6),e(),t(12,"div",2)(13,"label",7),o(14,"Password"),e(),l(15,"input",8),e(),t(16,"button",9),o(17,"Register"),e(),t(18,"p",10),o(19," Already have an account? "),t(20,"a",11),o(21,"Login"),e()(),p(22,I,2,1,"p",12),e()()),n&2&&(m(3),u("formGroup",i.registrationForm),m(13),u("disabled",!i.registrationForm.valid),m(6),f(i.errorMessage?22:-1))},dependencies:[E,R,x,O,w,S,k,v],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#3298ebbf,#043054bf)}.auth-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:5rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 14px #00000014}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#333}.auth-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.auth-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.3rem}.auth-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.6rem .8rem;border-radius:6px;border:1px solid #ccc;font-size:1rem;transition:border-color .2s}.auth-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#07f}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#07f;color:#fff;font-weight:700;border:none;border-radius:6px;cursor:pointer;transition:background .3s}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#005fd4}.auth-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.auth-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#07f;text-decoration:underline;margin-left:20px}.auth-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#c40000;text-align:center;margin-top:.8rem}"]})};export{F as RegistrationComponent};
