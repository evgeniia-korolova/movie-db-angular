import{a as O,b as l,c as x,d as w,e as y,f as u,g as k,h as F,i as S,j as A}from"./chunk-EB26TCTO.js";import{a as P}from"./chunk-JQD3L3D3.js";import{$ as M,B as m,C as p,G as f,J as s,M as h,Q as o,R as e,S as d,W as C,X as _,_ as i,ua as b,wa as v,z as c}from"./chunk-E7NG4QQB.js";function R(a,n){if(a&1&&(o(0,"p",8),i(1),e()),a&2){let t=_();c(),M(t.errorMessage)}}var L=class a{constructor(n,t,r){this.auth=n;this.router=t;this.route=r}errorMessage="";loginForm=new y({email:new u("",[l.required,l.email]),password:new u("",[l.required,l.minLength(6)])});onLogin(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let{email:n,password:t}=this.loginForm.value;if(this.auth.login(n,t)){let g=this.auth.getReturnUrl();this.auth.resetReturnUrl(),this.router.navigateByUrl(g)}else this.errorMessage="Invalid email or password."}ngOnInit(){let n=this.route.snapshot.queryParamMap.get("returnUrl");n&&this.auth.setReturnUrl(n)}static \u0275fac=function(t){return new(t||a)(m(P),m(v),m(b))};static \u0275cmp=p({type:a,selectors:[["app-login"]],decls:15,vars:3,consts:[[1,"auth-container"],["novalidate","",3,"click","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","formControlName","email"],["for","password"],["type","password","id","password","name","password","formControlName","password"],["type","submit",3,"disabled"],[1,"error"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"h2"),i(2,"Log in to Your Account"),e(),o(3,"form",1),C("click",function(){return r.onLogin()}),o(4,"div",2)(5,"label",3),i(6,"Email"),e(),d(7,"input",4),e(),o(8,"div",2)(9,"label",5),i(10,"Password"),e(),d(11,"input",6),e(),o(12,"button",7),i(13,"Log in"),e(),f(14,R,2,1,"p",8),e()()),t&2&&(c(3),s("formGroup",r.loginForm),c(9),s("disabled",!r.loginForm.valid),c(2),h(r.errorMessage?14:-1))},dependencies:[A,k,O,x,w,F,S],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#3298ebbf,#043054bf)}.auth-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:5rem auto;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 14px #00000014}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#333}.auth-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.auth-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.3rem}.auth-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.6rem .8rem;border-radius:6px;border:1px solid #ccc;font-size:1rem;transition:border-color .2s}.auth-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#07f}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#07f;color:#fff;font-weight:700;border:none;border-radius:6px;cursor:pointer;transition:background .3s}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#005fd4}.auth-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.auth-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#07f;text-decoration:underline;margin-left:20px}.auth-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#c40000;text-align:center;margin-top:.8rem}"]})};export{L as LoginComponent};
