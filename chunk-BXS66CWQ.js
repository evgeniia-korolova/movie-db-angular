import{a as g,b as h}from"./chunk-YRTUL6FF.js";import{a as _}from"./chunk-JQD3L3D3.js";import{B as s,C as c,G as v,J as m,K as d,M as u,Q as n,R as r,W as p,_ as f,z as a}from"./chunk-E7NG4QQB.js";function S(o,t){o&1&&(n(0,"div",2),f(1," Please log in to add to Favorites "),r())}var F=class o{constructor(t,i){this.favoritesService=t;this.authService=i}id;media_type;title;poster_path;isFilled=!1;showTooltip=!1;ngOnInit(){this.updateState()}updateState(){this.isFilled=this.favoritesService.isFavorite(this.id,this.media_type)}toggleFavorite(){if(!this.authService.isAuthenticated())return;let t={id:this.id,media_type:this.media_type,title:this.title,poster_path:this.poster_path};this.favoritesService.toggleFavorite(t),this.updateState()}static \u0275fac=function(i){return new(i||o)(s(h),s(_))};static \u0275cmp=c({type:o,selectors:[["app-favorite-toggle"]],inputs:{id:"id",media_type:"media_type",title:"title",poster_path:"poster_path"},decls:3,vars:4,consts:[[1,"favorite__wrapper",3,"mouseenter","mouseleave"],[3,"click","filled"],[1,"custom-tooltip"]],template:function(i,e){i&1&&(n(0,"div",0),p("mouseenter",function(){return e.showTooltip=!e.authService.isAuthenticated()})("mouseleave",function(){return e.showTooltip=!1}),n(1,"app-favorite-icon",1),p("click",function(){return e.toggleFavorite()}),r(),v(2,S,2,0,"div",2),r()),i&2&&(a(),d("inactive-icon",!e.authService.isAuthenticated()),m("filled",e.isFilled),a(),u(!e.authService.isAuthenticated()&&e.showTooltip?2:-1))},dependencies:[g],styles:[".favorite__wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.inactive-icon[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.custom-tooltip[_ngcontent-%COMP%]{position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:#032541;color:#fff;padding:6px 10px;border-radius:4px;font-size:14px;white-space:nowrap;box-shadow:0 2px 8px #00000026}"]})};export{F as a};
