import{e as y}from"./chunk-5GHR62VA.js";import{Ca as s,L as m,Ma as c,Ua as n,Va as r,Wa as p,Z as a,_ as g,eb as v,gb as u,i as f,kb as h,mb as b,ta as l}from"./chunk-WMH4GK37.js";var F=class i{voteAverage=0;getVoteColor(){let e=Math.round(this.voteAverage*10);return e>=75?"#4caf50":e>=50?"#ffeb3b":"#f44336"}getStrokeOffset(){return 251.2-Math.round(this.voteAverage*10)/100*251.2}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=s({type:i,selectors:[["app-rating-badge"]],inputs:{voteAverage:"voteAverage"},decls:9,vars:6,consts:[[1,"vote-container"],["width","50","height","50","viewBox","0 0 100 100"],["cx","50","cy","50","r","40","stroke","#ddd","stroke-width","8","fill","none"],["cx","50","cy","50","r","40","stroke-width","8","fill","none","stroke-dasharray","251.2","transform","rotate(-90 50 50)"],[1,"vote-text"]],template:function(t,o){t&1&&(n(0,"div",0),a(),n(1,"svg",1),p(2,"circle",2)(3,"circle",3),r(),g(),n(4,"span",4),v(5),h(6,"number"),n(7,"span"),v(8,"%"),r()()()),t&2&&(l(3),c("stroke",o.getVoteColor())("stroke-dashoffset",o.getStrokeOffset()),l(2),u("",b(6,3,o.voteAverage*10,"1.0-0")," "))},dependencies:[y],styles:[".vote-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:40px;height:40px;border-radius:50%;background-color:#000}.vote-container[_ngcontent-%COMP%]   .vote-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:12px;font-weight:700;color:#fff;display:flex;justify-content:center}.vote-container[_ngcontent-%COMP%]   .vote-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:8px;vertical-align:top}"]})};var C=class i{filled=!1;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=s({type:i,selectors:[["app-favorite-icon"]],inputs:{filled:"filled"},decls:2,vars:1,consts:[["width","50","height","50","viewBox","0 0 24 24","stroke","red","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M12 21s-8-6.4-8-11a5 5 0 0 1 9-3 5 5 0 0 1 9 3c0 4.6-8 11-8 11z"]],template:function(t,o){t&1&&(a(),n(0,"svg",0),p(1,"path",1),r()),t&2&&c("fill",o.filled?"red":"none")},styles:["[_nghost-%COMP%]{display:inline-flex;width:50px;height:50px;cursor:pointer}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{transition:fill .3s ease}"]})};var x=class i{storageKey="favoriteItems";favoritesSubject=new f(this.getFavorites());favoritesChanged$=this.favoritesSubject.asObservable();getFavorites(){return JSON.parse(localStorage.getItem(this.storageKey)||"[]")}saveFavorites(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}isFavorite(e,t){return this.getFavorites().some(o=>o.id===e&&o.media_type===t)}addFavorite(e){let t=this.getFavorites();this.isFavorite(e.id,e.media_type)||(t.push(e),this.favoritesSubject.next(t),localStorage.setItem(this.storageKey,JSON.stringify(t)))}removeFavorite(e,t){let o=this.getFavorites().filter(d=>d.id!==e||d.media_type!==t);this.saveFavorites(o),this.favoritesSubject.next(o)}toggleFavorite(e){this.isFavorite(e.id,e.media_type)?this.removeFavorite(e.id,e.media_type):this.addFavorite(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})};export{F as a,C as b,x as c};
