import{a as S}from"./chunk-XIOGZHG6.js";import{a as u}from"./chunk-SXUBGAWM.js";import{a as V}from"./chunk-BXS66CWQ.js";import{b as P}from"./chunk-YRTUL6FF.js";import{a as T}from"./chunk-JQD3L3D3.js";import{$ as h,B as l,C as x,G as _,J as v,M as g,Q as o,R as r,S as m,X as c,_ as a,aa as C,k as I,n as M,o as D,sa as y,ua as O,y as b,z as n}from"./chunk-E7NG4QQB.js";function p(t){return"title"in t}function d(t){return"name"in t}var f=class t{constructor(i){this.http=i}baseUrl=u.BASE_URL;apiKey=u.API_KEY;getMovieDetails(i){return this.http.get(`${this.baseUrl}/movie/${i}?api_key=${this.apiKey}&language=en-US`)}getTVDetails(i){let e=`${this.baseUrl}/tv/${i}?api_key=${this.apiKey}&language=en-US`;return this.http.get(e)}static \u0275fac=function(e){return new(e||t)(M(y))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};function E(t,i){if(t&1&&a(0),t&2){let e=c(2);C(" ",e.movie.title," ")}}function j(t,i){if(t&1&&a(0),t&2){let e=c(2);C(" ",e.movie.name," ")}}function A(t,i){if(t&1&&(o(0,"section",1)(1,"div",2),m(2,"img",3),r(),o(3,"div",4),_(4,E,1,1)(5,j,1,1),o(6,"p",5),a(7),r(),o(8,"div",6),m(9,"app-rating-badge",7),o(10,"p"),a(11,"User Score"),r(),m(12,"app-favorite-toggle",8),r(),o(13,"p",9),a(14),r(),o(15,"div",10)(16,"button",11),a(17,"Watch Trailer"),r()()()(),m(18,"section",12)(19,"section",13)(20,"section",14)),t&2){let e=c();n(2),v("src",e.imageUrl+e.movie.poster_path,b)("alt",e.movie.id),n(2),g(e.isMovieDetails(e.movie)?4:e.isTVDetails(e.movie)?5:-1),n(3),h(e.movie.tagline),n(2),v("voteAverage",e.movie.vote_average),n(3),v("id",e.movie.id)("media_type","movie")("title",e.title)("poster_path",e.movie.poster_path),n(2),h(e.movie.overview)}}var F=class t{constructor(i,e,s){this.route=i;this.movieDetailsService=e;this.favoritesService=s}movieId;mediaType;movie;isMovieDetails=p;isTVDetails=d;showTooltip=!1;authService=D(T);imageUrl="https://image.tmdb.org/t/p/w500";ngOnInit(){this.route.paramMap.subscribe(i=>{let e=i.get("id"),s=i.get("type");e&&s&&(this.movieId=+e,this.mediaType=s,this.loadDetails())})}loadDetails(){(this.mediaType==="movie"?this.movieDetailsService.getMovieDetails(this.movieId):this.movieDetailsService.getTVDetails(this.movieId)).subscribe(e=>{this.movie=e})}get title(){return p(this.movie)?this.movie.title??"":d(this.movie)?this.movie.name??"":""}get releaseDate(){return p(this.movie)?this.movie.release_date??"":d(this.movie)?this.movie.first_air_date??"":""}isFavorite(){return this.favoritesService.isFavorite(this.movieId,this.mediaType)}toggleFavorite(){let i={id:this.movieId,title:this.title,media_type:this.mediaType,poster_path:this.movie.poster_path};this.favoritesService.toggleFavorite(i)}static \u0275fac=function(e){return new(e||t)(l(O),l(f),l(P))};static \u0275cmp=x({type:t,selectors:[["app-movie-details"]],decls:2,vars:1,consts:[[1,"movie-details"],[1,"hero"],[1,"hero__poster"],[3,"src","alt"],[1,"hero__info"],[1,"movie-tagline"],[1,"hero__actions"],[3,"voteAverage"],[3,"id","media_type","title","poster_path"],[1,"hero__overview"],[1,"movie-actions"],[1,"btn"],[1,"credits"],[1,"media"],[1,"recommendations"]],template:function(e,s){e&1&&(o(0,"article",0),_(1,A,21,10),r()),e&2&&(n(),g(s.movie?1:-1))},dependencies:[S,V],styles:[".movie-details[_ngcontent-%COMP%]{padding:2rem;background-color:#f5f5f5}.hero[_ngcontent-%COMP%]{display:flex;gap:2rem;max-width:1440px;margin:0 auto}.hero__poster[_ngcontent-%COMP%]{flex:0 0 300px}.hero__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px;object-fit:cover}.hero__actions[_ngcontent-%COMP%]{position:relative;display:flex;gap:1rem;align-items:center;margin-bottom:1rem}.hero__info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.hero__info[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem}.hero__info[_ngcontent-%COMP%]   .movie-tagline[_ngcontent-%COMP%]{font-style:italic;color:#777;margin-bottom:1rem}.hero__info[_ngcontent-%COMP%]   .hero__overview[_ngcontent-%COMP%]{margin:2rem 0;line-height:1.6}.hero__info[_ngcontent-%COMP%]   .movie-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.hero__info[_ngcontent-%COMP%]   .movie-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#07f;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background .3s ease}.hero__info[_ngcontent-%COMP%]   .movie-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#005ec9}"]})};export{F as MovieDetailsComponent};
