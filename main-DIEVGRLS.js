import{a as j}from"./chunk-XIOGZHG6.js";import{a as v}from"./chunk-SXUBGAWM.js";import{a as fe,b as Ce}from"./chunk-YRTUL6FF.js";import{a as ve}from"./chunk-JQD3L3D3.js";import{$ as f,B as _,C as d,G as R,J as u,K as O,L as ce,M as V,N as x,O as y,P,Q as i,R as r,S as p,V as h,W as m,X as s,Y as S,_ as c,a as E,b as $,ca as le,da as ne,f as A,fa as se,g as re,ga as pe,h as ae,ja as ge,k as w,n as T,pa as de,q as C,r as b,ra as me,sa as F,ta as _e,va as L,wa as D,xa as U,y as I,ya as ue,z as a}from"./chunk-E7NG4QQB.js";var W=class n{constructor(t){this.http=t}baseUrl=v.BASE_URL;apiKey=v.API_KEY;getLatestTrailers(){let t=`${this.baseUrl}/movie/upcoming?api_key=${this.apiKey}&region=US`;return this.http.get(t).pipe(ae(e=>{let l=e.results.map(g=>this.getMovieTrailer(g.id).pipe(A(te=>$(E({},g),{trailerKey:te}))));return re(l)}),A(e=>e.filter(o=>o.trailerKey)))}getTodayDate(){return new Date().toISOString().split("T")[0]}getNDaysAgo(t){let e=new Date;return e.setDate(e.getDate()-t),e.toISOString().split("T")[0]}getMoviesByCategory(t){let e=`${this.baseUrl}/discover/movie?api_key=${this.apiKey}&sort_by=popularity.desc`;switch(t){case"popular":break;case"streaming":e+="&with_watch_providers=8&watch_region=US&with_watch_monetization_types=flatrate";break;case"on-tv":e=`${this.baseUrl}/discover/tv?api_key=${this.apiKey}`,e+="&sort_by=popularity.desc",e+="&with_original_language=en",e+="&vote_count.gte=50";break;case"for-rent":e+="&with_watch_monetization_types=rent&watch_region=US&sort_by=primary_release_date.desc",e+=`&primary_release_date.lte=${this.getTodayDate()}`;break}return this.http.get(e)}getMovieTrailer(t){let e=`${this.baseUrl}/movie/${t}/videos?api_key=${this.apiKey}`;return this.http.get(e).pipe(A(o=>o.results.find(g=>g.type==="Trailer"&&g.site==="YouTube")?.key||null))}getTVTrailer(t){let e=`${this.baseUrl}/tv/${t}/videos?api_key=${this.apiKey}`;return this.http.get(e).pipe(A(o=>o.results.find(g=>g.type==="Trailer"&&g.site==="YouTube")?.key||null))}static \u0275fac=function(e){return new(e||n)(T(F))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})};var ye=()=>({cursor:"pointer"});function Pe(n,t){if(n&1){let e=h();i(0,"button",7),m("click",function(){let l=C(e).$implicit,g=s();return b(g.loadMovies(l.value))}),i(1,"span"),c(2),se(3,"titlecase"),r()()}if(n&2){let e=t.$implicit,o=s();O("active",o.activeCategory===e.value),a(2),f(pe(3,3,e.label))}}function Oe(n,t){if(n&1){let e=h();i(0,"div",8)(1,"div",9),p(2,"img",10),i(3,"button",11),m("click",function(){C(e);let l=s().$implicit,g=s();return b(g.openTrailer(l.trailerKey))}),p(4,"img",12),r()(),i(5,"div",13)(6,"h3"),c(7),r(),i(8,"h3"),c(9),r()()()}if(n&2){let e=s().$implicit;a(2),S("alt",e.title),u("src","https://image.tmdb.org/t/p/w500"+e.poster_path,I),a(5),f(e.title||e.name),a(2),f(e.release_date||e.first_air_date)}}function ke(n,t){if(n&1&&R(0,Oe,10,4,"div",8),n&2){let e=t.$implicit;V(e.trailerKey?0:-1)}}var B=class n{constructor(t){this.trailerService=t}initialCategory="latest-trailers";latestTrailers=[];activeCategory=this.initialCategory;categories=[{label:"Latest",value:"latest-trailers"},{label:"Popular",value:"popular"},{label:"Streaming",value:"streaming"},{label:"On TV",value:"on-tv"},{label:"For Rent",value:"for-rent"}];ngOnInit(){this.loadMovies(this.initialCategory)}loadLatestTrailers(){this.trailerService.getLatestTrailers().subscribe(t=>{this.latestTrailers=t,console.log(this.latestTrailers),this.activeCategory="latest-trailers"})}loadMovies(t){this.activeCategory=t,t==="latest-trailers"&&this.loadLatestTrailers(),this.trailerService.getMoviesByCategory(t).subscribe(e=>{this.latestTrailers=e.results,this.latestTrailers.forEach(o=>{(o.media_type==="tv"||"first_air_date"in o?this.trailerService.getTVTrailer(o.id):this.trailerService.getMovieTrailer(o.id)).subscribe(te=>{o.trailerKey=te})})})}openTrailer(t){window.open(`https://www.youtube.com/watch?v=${t}`,"_blank")}static \u0275fac=function(e){return new(e||n)(_(W))};static \u0275cmp=d({type:n,selectors:[["app-trailers"]],inputs:{initialCategory:"initialCategory"},decls:11,vars:3,consts:[[1,"trailers"],[1,"trailers__header"],[3,"click"],[1,"category-toggle","toggle-trailers"],[1,"trailer-btn",3,"active"],[1,"slider"],[1,"slider-track"],[1,"trailer-btn",3,"click"],[1,"movie-card"],[1,"movie-card__poster"],[3,"src","alt"],[1,"play-btn",3,"click"],["src","icon-play.png","alt","play",1,"play-btn__icon"],[1,"movie-card__info"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1)(2,"h2",2),m("click",function(){return o.loadLatestTrailers()}),c(3,"Latest Trailers"),r(),i(4,"div",3),y(5,Pe,4,5,"button",4,x),r()(),i(7,"div",5)(8,"div",6),y(9,ke,1,1,null,null,x),r()()()),e&2&&(a(2),ce(le(2,ye)),a(3),P(o.categories),a(4),P(o.latestTrailers))},dependencies:[de],styles:[".play-btn[_ngcontent-%COMP%]{width:48px;height:48px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:none;background:transparent}.play-btn__icon[_ngcontent-%COMP%]{display:block;width:48px;height:48px;object-fit:contain}",'section[_ngcontent-%COMP%]{padding:10px 20px}section.trending[_ngcontent-%COMP%]{background-image:url("/movie-db-angular/media/trending-bg-5GDLM5EJ.svg");background-position:bottom center;background-size:200% 60%;background-repeat:no-repeat}section.trailers[_ngcontent-%COMP%]{background:linear-gradient(to right,#3298ebbf,#043054bf)}.slider[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;position:relative;scrollbar-width:thin;scrollbar-color:#cac8c8 #f1f1f1}.slider[_ngcontent-%COMP%]::-webkit-scrollbar{height:2.5rem}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e9e7e7;border-radius:5px}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.slider-track[_ngcontent-%COMP%]{display:flex;gap:15px;padding-block-end:1rem}.popular__header[_ngcontent-%COMP%], .trending__header[_ngcontent-%COMP%], .trailers__header[_ngcontent-%COMP%], .free-to-watch__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px;margin-bottom:20px}.popular__header[_ngcontent-%COMP%]{margin-top:20px}.movie-card[_ngcontent-%COMP%]{width:150px;max-width:150px;display:flex;flex-direction:column;gap:30px;flex-shrink:0;position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]{position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]   .vote-average__wrapper[_ngcontent-%COMP%]{position:absolute;bottom:-7px;left:15px}.movie-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.play-btn__icon){width:100%;height:225px;object-fit:cover;border-radius:10px;border:1px solid rgb(200,197,197)}.movie-card__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex-grow:1}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:first-child{max-width:100%;word-wrap:break-word;white-space:normal;text-overflow:ellipsis;font-size:1rem;font-weight:600}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:last-child{margin-top:auto;font-weight:400;margin-top:.8rem}.high-rating[_ngcontent-%COMP%]{background-color:#4caf50}.medium-rating[_ngcontent-%COMP%]{background-color:#ffeb3b}.low-rating[_ngcontent-%COMP%]{background-color:#f44336}.category-toggle[_ngcontent-%COMP%]{display:flex;border:1px solid black;border-radius:25px}.category-toggle.toggle-trailers[_ngcontent-%COMP%]{border:1px solid rgb(70,229,70)}.category-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-weight:700;cursor:pointer;padding:.5rem 1.5rem;border-radius:25px;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.trailer-btn[_ngcontent-%COMP%]{color:#fff;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#000}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .gradient-text[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#c0fecf,#1ed5a9);color:transparent;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.category-toggle[_ngcontent-%COMP%]   .trailer-btn.active[_ngcontent-%COMP%]{color:#000;background:linear-gradient(to right,#c0fecf,#1ed5a9)}']})};var H=class n{constructor(t){this.http=t}baseUrl=v.BASE_URL;apiKey=v.API_KEY;apiUrl=`${v.BASE_URL}/movie/popular?api_key=${v.API_KEY}`;getTrending(t,e){let o=`${this.baseUrl}/trending/${t}/${e}?api_key=${this.apiKey}`;return this.http.get(o)}static \u0275fac=function(e){return new(e||n)(T(F))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})};function Te(n,t){if(n&1){let e=h();i(0,"div",8),m("click",function(){let l=C(e).$implicit,g=s();return b(g.goToMovieDetails(l))}),i(1,"div",9),p(2,"img",10),i(3,"div",11),p(4,"app-rating-badge",12),r()(),i(5,"div",13)(6,"h3"),c(7),r(),i(8,"h3"),c(9),r()()()}if(n&2){let e=t.$implicit,o=s();a(2),S("alt",o.getTitle(e)),u("src","https://image.tmdb.org/t/p/w500"+e.poster_path,I),a(2),u("voteAverage",e.vote_average),a(3),f(o.getTitle(e)),a(2),f(o.getDate(e))}}var N=class n{constructor(t,e){this.trendingMoviesService=t;this.router=e}trendingMovies=[];selectedTime="day";onTimeChange(t){this.selectedTime=t,this.loadTrending()}getTitle(t){return t.media_type==="tv"?t.name??"":t.title??""}getDate(t){return"release_date"in t?t.release_date:t.first_air_date}loadTrending(){this.trendingMoviesService.getTrending("movie",this.selectedTime).subscribe(t=>{this.trendingMovies=t.results})}goToMovieDetails(t){this.router.navigate(["/details",t.media_type,t.id])}ngOnInit(){this.loadTrending()}static \u0275fac=function(e){return new(e||n)(_(H),_(D))};static \u0275cmp=d({type:n,selectors:[["app-trending"]],decls:15,vars:4,consts:[[1,"trending"],[1,"trending__header"],[1,"category-toggle"],[3,"click"],[1,"gradient-text"],[1,"slider","slider__trending"],[1,"slider-track"],[1,"movie-card"],[1,"movie-card",3,"click"],[1,"movie-card__poster"],[3,"src","alt"],[1,"vote-average__wrapper"],[3,"voteAverage"],[1,"movie-card__info"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1)(2,"h2"),c(3,"Trending"),r(),i(4,"div",2)(5,"button",3),m("click",function(){return o.onTimeChange("day")}),i(6,"span",4),c(7,"Today"),r()(),i(8,"button",3),m("click",function(){return o.onTimeChange("week")}),i(9,"span",4),c(10,"This Week"),r()()()(),i(11,"div",5)(12,"div",6),y(13,Te,10,5,"div",7,x),r()()()),e&2&&(a(5),O("active",o.selectedTime==="day"),a(3),O("active",o.selectedTime==="week"),a(5),P(o.trendingMovies))},dependencies:[j],styles:['section[_ngcontent-%COMP%]{padding:10px 20px}section.trending[_ngcontent-%COMP%]{background-image:url("/movie-db-angular/media/trending-bg-5GDLM5EJ.svg");background-position:bottom center;background-size:200% 60%;background-repeat:no-repeat}section.trailers[_ngcontent-%COMP%]{background:linear-gradient(to right,#3298ebbf,#043054bf)}.slider[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;position:relative;scrollbar-width:thin;scrollbar-color:#cac8c8 #f1f1f1}.slider[_ngcontent-%COMP%]::-webkit-scrollbar{height:2.5rem}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e9e7e7;border-radius:5px}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.slider-track[_ngcontent-%COMP%]{display:flex;gap:15px;padding-block-end:1rem}.popular__header[_ngcontent-%COMP%], .trending__header[_ngcontent-%COMP%], .trailers__header[_ngcontent-%COMP%], .free-to-watch__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px;margin-bottom:20px}.popular__header[_ngcontent-%COMP%]{margin-top:20px}.movie-card[_ngcontent-%COMP%]{width:150px;max-width:150px;display:flex;flex-direction:column;gap:30px;flex-shrink:0;position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]{position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]   .vote-average__wrapper[_ngcontent-%COMP%]{position:absolute;bottom:-7px;left:15px}.movie-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.play-btn__icon){width:100%;height:225px;object-fit:cover;border-radius:10px;border:1px solid rgb(200,197,197)}.movie-card__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex-grow:1}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:first-child{max-width:100%;word-wrap:break-word;white-space:normal;text-overflow:ellipsis;font-size:1rem;font-weight:600}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:last-child{margin-top:auto;font-weight:400;margin-top:.8rem}.high-rating[_ngcontent-%COMP%]{background-color:#4caf50}.medium-rating[_ngcontent-%COMP%]{background-color:#ffeb3b}.low-rating[_ngcontent-%COMP%]{background-color:#f44336}.category-toggle[_ngcontent-%COMP%]{display:flex;border:1px solid black;border-radius:25px}.category-toggle.toggle-trailers[_ngcontent-%COMP%]{border:1px solid rgb(70,229,70)}.category-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-weight:700;cursor:pointer;padding:.5rem 1.5rem;border-radius:25px;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.trailer-btn[_ngcontent-%COMP%]{color:#fff;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#000}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .gradient-text[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#c0fecf,#1ed5a9);color:transparent;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.category-toggle[_ngcontent-%COMP%]   .trailer-btn.active[_ngcontent-%COMP%]{color:#000;background:linear-gradient(to right,#c0fecf,#1ed5a9)}']})};var K=class n{constructor(t){this.http=t}baseUrl=v.BASE_URL;apiKey=v.API_KEY;getPopularByCategory(t){let e="",o="/discover/movie";switch(t){case"streaming":e="&with_watch_providers=8&watch_region=US";break;case"on-tv":o="/discover/tv",e="&with_watch_providers=9&watch_region=US";break;case"for-rent":e="&with_release_type=3";break}let l=`${this.baseUrl}${o}?api_key=${this.apiKey}${e}`;return this.http.get(l)}static \u0275fac=function(e){return new(e||n)(T(F))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})};function Se(n,t){if(n&1){let e=h();i(0,"button",6),m("click",function(){let l=C(e).$implicit,g=s();return b(g.loadPopularMovies(l.value))}),i(1,"span",7),c(2),r()()}if(n&2){let e=t.$implicit,o=s();O("active",o.selectedCategory===e.value),a(2),f(e.label)}}function Fe(n,t){if(n&1){let e=h();i(0,"div",9),m("click",function(){C(e);let l=s().$implicit,g=s();return b(g.goToMovieDetails(l))}),i(1,"div",10),p(2,"img",11),i(3,"div",12),p(4,"app-rating-badge",13),r()(),i(5,"div",14)(6,"h3"),c(7),r(),i(8,"h3"),c(9),r()()()}if(n&2){let e=s().$implicit,o=s();a(2),S("alt",o.getTitle(e)),u("src","https://image.tmdb.org/t/p/w500"+e.poster_path,I),a(2),u("voteAverage",e.vote_average),a(3),f(o.getTitle(e)),a(2),f(o.getDate(e))}}function De(n,t){if(n&1&&R(0,Fe,10,5,"div",8),n&2){let e=t.$implicit;V(e?0:-1)}}var z=class n{constructor(t,e){this.popularMoviesService=t;this.router=e}popularMovies=[];selectedCategory="streaming";categories=[{label:"Streaming",value:"streaming"},{label:"On TV",value:"on-tv"},{label:"For Rent",value:"for-rent"}];loadPopularMovies(t){this.selectedCategory=t;let e=t==="on-tv"?"tv":"movie";this.popularMoviesService.getPopularByCategory(t).subscribe(o=>{this.popularMovies=o.results.map(l=>$(E({},l),{media_type:e})),console.log(this.popularMovies)})}getTitle(t){return t.media_type==="tv"?t.name??"":t.title??""}getDate(t){return"release_date"in t?t.release_date:t.first_air_date}goToMovieDetails(t){this.router.navigate(["/details",t.media_type,t.id])}ngOnInit(){this.loadPopularMovies(this.selectedCategory)}static \u0275fac=function(e){return new(e||n)(_(K),_(D))};static \u0275cmp=d({type:n,selectors:[["app-popular-movies"]],decls:11,vars:0,consts:[[1,"popular"],[1,"popular__header"],[1,"category-toggle"],[3,"active"],[1,"slider"],[1,"slider-track"],[3,"click"],[1,"gradient-text"],[1,"movie-card"],[1,"movie-card",3,"click"],[1,"movie-card__poster"],[3,"src","alt"],[1,"vote-average__wrapper"],[3,"voteAverage"],[1,"movie-card__info"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1)(2,"h2"),c(3,"What's Popular"),r(),i(4,"div",2),y(5,Se,3,3,"button",3,x),r()(),i(7,"div",4)(8,"div",5),y(9,De,1,1,null,null,x),r()()()),e&2&&(a(5),P(o.categories),a(4),P(o.popularMovies))},dependencies:[j],styles:['section[_ngcontent-%COMP%]{padding:10px 20px}section.trending[_ngcontent-%COMP%]{background-image:url("/movie-db-angular/media/trending-bg-5GDLM5EJ.svg");background-position:bottom center;background-size:200% 60%;background-repeat:no-repeat}section.trailers[_ngcontent-%COMP%]{background:linear-gradient(to right,#3298ebbf,#043054bf)}.slider[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;position:relative;scrollbar-width:thin;scrollbar-color:#cac8c8 #f1f1f1}.slider[_ngcontent-%COMP%]::-webkit-scrollbar{height:2.5rem}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e9e7e7;border-radius:5px}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.slider-track[_ngcontent-%COMP%]{display:flex;gap:15px;padding-block-end:1rem}.popular__header[_ngcontent-%COMP%], .trending__header[_ngcontent-%COMP%], .trailers__header[_ngcontent-%COMP%], .free-to-watch__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px;margin-bottom:20px}.popular__header[_ngcontent-%COMP%]{margin-top:20px}.movie-card[_ngcontent-%COMP%]{width:150px;max-width:150px;display:flex;flex-direction:column;gap:30px;flex-shrink:0;position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]{position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]   .vote-average__wrapper[_ngcontent-%COMP%]{position:absolute;bottom:-7px;left:15px}.movie-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.play-btn__icon){width:100%;height:225px;object-fit:cover;border-radius:10px;border:1px solid rgb(200,197,197)}.movie-card__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex-grow:1}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:first-child{max-width:100%;word-wrap:break-word;white-space:normal;text-overflow:ellipsis;font-size:1rem;font-weight:600}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:last-child{margin-top:auto;font-weight:400;margin-top:.8rem}.high-rating[_ngcontent-%COMP%]{background-color:#4caf50}.medium-rating[_ngcontent-%COMP%]{background-color:#ffeb3b}.low-rating[_ngcontent-%COMP%]{background-color:#f44336}.category-toggle[_ngcontent-%COMP%]{display:flex;border:1px solid black;border-radius:25px}.category-toggle.toggle-trailers[_ngcontent-%COMP%]{border:1px solid rgb(70,229,70)}.category-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-weight:700;cursor:pointer;padding:.5rem 1.5rem;border-radius:25px;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.trailer-btn[_ngcontent-%COMP%]{color:#fff;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#000}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .gradient-text[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#c0fecf,#1ed5a9);color:transparent;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.category-toggle[_ngcontent-%COMP%]   .trailer-btn.active[_ngcontent-%COMP%]{color:#000;background:linear-gradient(to right,#c0fecf,#1ed5a9)}']})};var Y=class n{constructor(t){this.http=t}baseUrl=v.BASE_URL;apiKey=v.API_KEY;getFreeToWatchByCategory(t){let e="",o="";switch(t){case"movies":e=`${this.baseUrl}/movie/top_rated?api_key=${this.apiKey}`;break;case"tv":e=`${this.baseUrl}/discover/tv?api_key=${this.apiKey}`,o="&with_watch_providers=9&watch_region=US";break;default:e=`${this.baseUrl}/movie/top_rated?api_key=${this.apiKey}`}return this.http.get(e+o)}static \u0275fac=function(e){return new(e||n)(T(F))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})};function $e(n,t){if(n&1){let e=h();i(0,"button",7),m("click",function(){let l=C(e).$implicit,g=s();return b(g.loadFreeToWatchByCategory(l.value))}),i(1,"span",8),c(2),r()()}if(n&2){let e=t.$implicit,o=s();O("active",o.selectedCategory===e.value),a(2),f(e.label)}}function Re(n,t){if(n&1){let e=h();i(0,"div",9),m("click",function(){let l=C(e).$implicit,g=s();return b(g.goToMovieDetails(l))}),i(1,"div",10),p(2,"img",11),i(3,"div",12),p(4,"app-rating-badge",13),r()(),i(5,"div",14)(6,"h3"),c(7),r(),i(8,"h3"),c(9),r()()()}if(n&2){let e=t.$implicit,o=s();a(2),S("alt",o.getTitle(e)),u("src","https://image.tmdb.org/t/p/w500"+e.poster_path,I),a(2),u("voteAverage",e.vote_average),a(3),f(o.getTitle(e)),a(2),f(o.getDate(e))}}var J=class n{constructor(t,e){this.freeToWatchService=t;this.router=e}voteAverage=0;freeToWatch=[];selectedCategory="movies";categories=[{label:"Movies",value:"movies"},{label:"TV",value:"tv"}];loadFreeToWatchByCategory(t){this.selectedCategory=t;let e=t==="tv"?"tv":"movie";this.freeToWatchService.getFreeToWatchByCategory(t).subscribe(o=>{this.freeToWatch=o.results.map(l=>$(E({},l),{media_type:e}))})}getTitle(t){return t.media_type==="tv"?t.name??"":t.title??""}getDate(t){return"release_date"in t?t.release_date:t.first_air_date}goToMovieDetails(t){this.router.navigate(["/details",t.media_type,t.id])}ngOnInit(){this.loadFreeToWatchByCategory("movies")}static \u0275fac=function(e){return new(e||n)(_(Y),_(D))};static \u0275cmp=d({type:n,selectors:[["app-free-to-watch"]],inputs:{voteAverage:"voteAverage"},decls:11,vars:0,consts:[[1,"free-to-watch"],[1,"free-to-watch__header"],[1,"category-toggle"],[3,"active"],[1,"slider"],[1,"slider-track"],[1,"movie-card"],[3,"click"],[1,"gradient-text"],[1,"movie-card",3,"click"],[1,"movie-card__poster"],[3,"src","alt"],[1,"vote-average__wrapper"],[3,"voteAverage"],[1,"movie-card__info"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1)(2,"h2"),c(3,"Free To Watch"),r(),i(4,"div",2),y(5,$e,3,3,"button",3,x),r()(),i(7,"div",4)(8,"div",5),y(9,Re,10,5,"div",6,x),r()()()),e&2&&(a(5),P(o.categories),a(4),P(o.freeToWatch))},dependencies:[j],styles:['section[_ngcontent-%COMP%]{padding:10px 20px}section.trending[_ngcontent-%COMP%]{background-image:url("/movie-db-angular/media/trending-bg-5GDLM5EJ.svg");background-position:bottom center;background-size:200% 60%;background-repeat:no-repeat}section.trailers[_ngcontent-%COMP%]{background:linear-gradient(to right,#3298ebbf,#043054bf)}.slider[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;position:relative;scrollbar-width:thin;scrollbar-color:#cac8c8 #f1f1f1}.slider[_ngcontent-%COMP%]::-webkit-scrollbar{height:2.5rem}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e9e7e7;border-radius:5px}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.slider-track[_ngcontent-%COMP%]{display:flex;gap:15px;padding-block-end:1rem}.popular__header[_ngcontent-%COMP%], .trending__header[_ngcontent-%COMP%], .trailers__header[_ngcontent-%COMP%], .free-to-watch__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px;margin-bottom:20px}.popular__header[_ngcontent-%COMP%]{margin-top:20px}.movie-card[_ngcontent-%COMP%]{width:150px;max-width:150px;display:flex;flex-direction:column;gap:30px;flex-shrink:0;position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]{position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]   .vote-average__wrapper[_ngcontent-%COMP%]{position:absolute;bottom:-7px;left:15px}.movie-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.play-btn__icon){width:100%;height:225px;object-fit:cover;border-radius:10px;border:1px solid rgb(200,197,197)}.movie-card__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex-grow:1}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:first-child{max-width:100%;word-wrap:break-word;white-space:normal;text-overflow:ellipsis;font-size:1rem;font-weight:600}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:last-child{margin-top:auto;font-weight:400;margin-top:.8rem}.high-rating[_ngcontent-%COMP%]{background-color:#4caf50}.medium-rating[_ngcontent-%COMP%]{background-color:#ffeb3b}.low-rating[_ngcontent-%COMP%]{background-color:#f44336}.category-toggle[_ngcontent-%COMP%]{display:flex;border:1px solid black;border-radius:25px}.category-toggle.toggle-trailers[_ngcontent-%COMP%]{border:1px solid rgb(70,229,70)}.category-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-weight:700;cursor:pointer;padding:.5rem 1.5rem;border-radius:25px;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.trailer-btn[_ngcontent-%COMP%]{color:#fff;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#000}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .gradient-text[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#c0fecf,#1ed5a9);color:transparent;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.category-toggle[_ngcontent-%COMP%]   .trailer-btn.active[_ngcontent-%COMP%]{color:#000;background:linear-gradient(to right,#c0fecf,#1ed5a9)}']})};var q=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-home"]],decls:4,vars:0,template:function(e,o){e&1&&p(0,"app-trending")(1,"app-trailers")(2,"app-popular-movies")(3,"app-free-to-watch")},dependencies:[B,N,z,J],styles:['section[_ngcontent-%COMP%]{padding:10px 20px}section.trending[_ngcontent-%COMP%]{background-image:url("/movie-db-angular/media/trending-bg-5GDLM5EJ.svg");background-position:bottom center;background-size:200% 60%;background-repeat:no-repeat}section.trailers[_ngcontent-%COMP%]{background:linear-gradient(to right,#3298ebbf,#043054bf)}.slider[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;position:relative;scrollbar-width:thin;scrollbar-color:#cac8c8 #f1f1f1}.slider[_ngcontent-%COMP%]::-webkit-scrollbar{height:2.5rem}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e9e7e7;border-radius:5px}.slider[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.slider-track[_ngcontent-%COMP%]{display:flex;gap:15px;padding-block-end:1rem}.popular__header[_ngcontent-%COMP%], .trending__header[_ngcontent-%COMP%], .trailers__header[_ngcontent-%COMP%], .free-to-watch__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px;margin-bottom:20px}.popular__header[_ngcontent-%COMP%]{margin-top:20px}.movie-card[_ngcontent-%COMP%]{width:150px;max-width:150px;display:flex;flex-direction:column;gap:30px;flex-shrink:0;position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]{position:relative}.movie-card[_ngcontent-%COMP%]   .movie-card__poster[_ngcontent-%COMP%]   .vote-average__wrapper[_ngcontent-%COMP%]{position:absolute;bottom:-7px;left:15px}.movie-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.play-btn__icon){width:100%;height:225px;object-fit:cover;border-radius:10px;border:1px solid rgb(200,197,197)}.movie-card__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex-grow:1}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:first-child{max-width:100%;word-wrap:break-word;white-space:normal;text-overflow:ellipsis;font-size:1rem;font-weight:600}.movie-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:last-child{margin-top:auto;font-weight:400;margin-top:.8rem}.high-rating[_ngcontent-%COMP%]{background-color:#4caf50}.medium-rating[_ngcontent-%COMP%]{background-color:#ffeb3b}.low-rating[_ngcontent-%COMP%]{background-color:#f44336}.category-toggle[_ngcontent-%COMP%]{display:flex;border:1px solid black;border-radius:25px}.category-toggle.toggle-trailers[_ngcontent-%COMP%]{border:1px solid rgb(70,229,70)}.category-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-weight:700;cursor:pointer;padding:.5rem 1.5rem;border-radius:25px;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.trailer-btn[_ngcontent-%COMP%]{color:#fff;transition:all .5s ease-out}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#000}.category-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .gradient-text[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#c0fecf,#1ed5a9);color:transparent;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.category-toggle[_ngcontent-%COMP%]   .trailer-btn.active[_ngcontent-%COMP%]{color:#000;background:linear-gradient(to right,#c0fecf,#1ed5a9)}']})};var G=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-auth-layout"]],decls:1,vars:0,template:function(e,o){e&1&&p(0,"router-outlet")},dependencies:[L],encapsulation:2})};var Z=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-not-found"]],decls:8,vars:0,consts:[[1,"not-found"],[1,"not-found__content"],["routerLink","/",1,"home-btn"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1)(2,"h1"),c(3,"404"),r(),i(4,"p"),c(5,"Oops! The page you\u2019re looking for doesn\u2019t exist."),r(),i(6,"a",2),c(7,"Back to Home"),r()()())},dependencies:[U],styles:[".not-found[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100dvh;background:linear-gradient(to right,#1c1c1c,#2c2c2c);color:#fff;text-align:center;padding:2rem}.not-found__content[_ngcontent-%COMP%]{max-width:500px;animation:_ngcontent-%COMP%_fadeIn .7s ease-in-out}.not-found__content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8rem;margin:0;background:linear-gradient(to right,#01b4e4,#90cea1);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.not-found__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;margin:1rem 0 2rem}.not-found__content[_ngcontent-%COMP%]   .home-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;background:#01b4e4;color:#fff;text-decoration:none;font-weight:700;border-radius:30px;transition:background .3s ease}.not-found__content[_ngcontent-%COMP%]   .home-btn[_ngcontent-%COMP%]:hover{background:#90cea1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};var be=n=>({returnUrl:n});function Ve(n,t){if(n&1){let e=h();i(0,"button",7),m("click",function(){C(e);let l=s();return b(l.logout())}),c(1,"Logout"),r(),i(2,"a",8),p(3,"app-favorite-icon",9),r()}if(n&2){let e=s();a(3),u("filled",e.hasFavorites)}}function Le(n,t){if(n&1&&(i(0,"a",10),c(1,"Login"),r(),i(2,"a",11),c(3,"Register"),r()),n&2){let e=s();u("queryParams",ne(2,be,e.router.url)),a(2),u("queryParams",ne(4,be,e.router.url))}}var Q=class n{constructor(t,e,o){this.authService=t;this.router=e;this.favoritesService=o}hasFavorites;logout(){this.authService.logout(),this.router.navigate(["/movie"])}ngOnInit(){this.favoritesService.favoritesChanged$.subscribe(t=>{this.hasFavorites=t.length>0})}static \u0275fac=function(e){return new(e||n)(_(ve),_(D),_(Ce))};static \u0275cmp=d({type:n,selectors:[["app-header"]],decls:11,vars:1,consts:[[1,"header"],[1,"nav"],["routerLink","./"],["src","logo.svg","alt","move-app-logo"],["routerLink","/movies"],["routerLink","/person"],[1,"auth"],[1,"auth-btn",3,"click"],["routerLink","/favorites"],[3,"filled"],["routerLink","/login",1,"auth-btn",3,"queryParams"],["routerLink","/registration",1,"auth-btn",3,"queryParams"]],template:function(e,o){e&1&&(i(0,"header",0)(1,"nav",1)(2,"a",2),p(3,"img",3),r(),i(4,"a",4),c(5,"Movies"),r(),i(6,"a",5),c(7,"People"),r()(),i(8,"div",6),R(9,Ve,4,1)(10,Le,4,6),r()()),e&2&&(a(9),V(o.authService.isAuthenticated()?9:10))},dependencies:[U,fe],styles:[".header[_ngcontent-%COMP%]{width:100%;padding:1rem 2rem;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;background-color:#032541;color:#fff}.nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:1.5rem}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;display:block}.auth[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}.auth-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.5rem;cursor:pointer;border:none;background:transparent;color:#fff;text-decoration:none}"]})};var X=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-main-layout"]],decls:3,vars:0,consts:[[1,"layout-container"]],template:function(e,o){e&1&&(p(0,"app-header"),i(1,"main",0),p(2,"router-outlet"),r())},dependencies:[L,Q],encapsulation:2})};var he=[{path:"",component:X,children:[{path:"",redirectTo:"movie",pathMatch:"full"},{path:"movie",component:q},{path:"details/:type/:id",loadComponent:()=>import("./chunk-IOQTCCC4.js").then(n=>n.MovieDetailsComponent)},{path:"person",loadComponent:()=>import("./chunk-EB5RZXAO.js").then(n=>n.PeopleComponent)},{path:"person/:id",loadComponent:()=>import("./chunk-GKSY2742.js").then(n=>n.PersonDetailsComponent)},{path:"favorites",loadComponent:()=>import("./chunk-HKTPOLT2.js").then(n=>n.FavoritesComponent)}]},{path:"",component:G,children:[{path:"registration",loadComponent:()=>import("./chunk-FPCJZJSG.js").then(n=>n.RegistrationComponent)},{path:"login",loadComponent:()=>import("./chunk-XTD55K4P.js").then(n=>n.LoginComponent)},{path:"**",component:Z}]}];var Me={providers:[ge({eventCoalescing:!0}),ue(he),_e()]};var ee=class n{title="movie-db-ang";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){e&1&&p(0,"router-outlet")},dependencies:[L],styles:[".layout-container[_ngcontent-%COMP%]{width:100%;max-width:1440px;margin:0 auto;padding:0 1rem;box-sizing:border-box}"]})};me(ee,Me).catch(n=>console.error(n));
